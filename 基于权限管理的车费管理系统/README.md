# 基于权限管理的车费管理系统

## 项目简介
本系统是基于Django框架开发的企业级车费管理系统，实现了车辆信息管理、部门管理、用户管理、车费记录和审批等核心功能。系统采用RBAC（基于角色的访问控制）模型进行细粒度权限管理，确保不同角色用户只能访问授权资源。

## 功能特性
1. **车辆信息管理**：支持车辆档案的增删改查操作
2. **部门管理**：实现组织架构的层级化管理
3. **用户管理**：包含用户账户维护与角色分配
4. **车费记录**：完整记录每次用车费用明细
5. **车费审批**：多级审批流程配置与执行
6. **数据统计**：提供可视化报表展示关键指标
7. **权限控制**：通过RBAC模型实现精细化权限管理

## 技术架构
### 核心技术栈
- Django 5.1.6: Web框架
- Python 3.x: 编程语言
- PyMySQL 1.1.1: MySQL数据库驱动
- RBAC: 权限管理模型
- Bootstrap 5: 响应式前端UI框架
- jQuery 3.7.1: JavaScript库

### 系统架构图
```
+---------------------+
|      浏览器客户端       |
+----------+----------+
           |
  +-------v--------+     +----------------+
  | Django Web服务器 |<--->| MySQL 数据库   |
  +-------+--------+
          |
  +-------v--------+
  | RBAC 权限系统   |
  +----------------+
```

## 目录结构
```bash
基于权限管理的车费管理系统/
├── fare/                # 车费管理应用
│   ├── models.py        # 数据模型定义
│   ├── views.py         # 视图逻辑处理
│   ├── urls.py          # URL路由配置
│   └── ...              # 其他Django组件
│
├── rbac/                # 权限管理模块
│   ├── middleware/      # 权限验证中间件
│   ├── service/         # 用户权限初始化服务
│   ├── templatetags/    # 自定义模板标签
│   ├── models.py        # 权限相关数据模型
│   └── ...              # 其他权限管理组件
│
├── static/              # 静态资源文件
│   ├── bootstrap/       # Bootstrap框架文件
│   ├── css/             # 自定义样式表
│   ├── js/              # 自定义JavaScript
│   └── ...              # 第三方插件资源
│
├── templates/           # HTML模板文件
│   ├── base.html        # 基础模板
│   ├── rbac_menu.html   # 权限菜单模板
│   └── fare/            # 车费管理相关模板
│
├── utils/               # 工具类模块
│   └── paginater.py     # 分页组件
│
├── manage.py            # Django管理脚本
├── requirements.txt     # 项目依赖清单
└── README.md            # 项目说明文档
```

## 快速启动指南
### 开发环境搭建
1. 安装Python 3.x环境
2. 安装MySQL数据库并创建空数据库
3. 克隆项目仓库:
```bash
$ git clone https://github.com/yourname/fare-management.git
```
4. 安装依赖包:
```bash
$ pip install -r requirements.txt
```
5. 修改`fare_management/settings.py`中的数据库配置
6. 执行数据库迁移:
```bash
$ python manage.py migrate
```
7. 创建管理员账号:
```bash
$ python manage.py createsuperuser
```
8. 启动开发服务器:
```bash
$ python manage.py runserver
```

## 使用说明
1. 访问 http://127.0.0.1:8000 登录系统
2. 使用超级用户账号进行权限配置
3. 按角色分配相应的菜单权限和操作权限
4. 不同角色用户将看到不同的功能界面

## 权限管理机制
系统采用RBAC(基于角色的访问控制)模型，通过以下方式实现权限控制:
1. 角色管理：创建不同角色并分配相应权限
2. 菜单权限：控制可见的一级菜单和二级菜单
3. 操作权限：限制具体操作(新增、编辑、删除等)
4. 数据权限：控制可访问的数据范围

